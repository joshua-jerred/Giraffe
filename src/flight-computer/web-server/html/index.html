<!--
    @file index.html
    @author Joshua Jerred (github.com/joshua-jerred)
    @brief The html for the simple web server
    @details someone please fix this, im not a web developer
-->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Giraffe Flight System</title>
        <link rel="stylesheet" href="style.css">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon.ico">
        <script type="text/javascript" src="data-display.js"></script>
    </head>

    <body>
        
        <ul id="control-interface">
            <li class="ci-li" id="title">
                GFS
            </li>
            <li class="ci-li">
                <input class="control-button" type="submit" value="Connect" onclick="start()">
            </li>
            <li class="ci-li">
                <input class="control-button" type="submit" value="Disconnect" onclick="stop()">
            </li>
            <li class="ci-li">
                <input class="control-button" type="submit" value="Shutdown Server" onclick="shutdownServer()">
            </li>
            <li class="ci-li">
                <input class="control-button" type="submit" value="Shutdown GFS" onclick="shutdownGFS()">
            </li>
            <li class="ci-li" id="connection-status">
                DISCONNECTED
            </li>
        </ul>
        <div id="main-content" class="box">
            <div class="data">
                <h4>Configuration</h4>
                <div class="data" id="static-data"></div>
            </div>
            
            <div class="data">
                <h4>Flight Data</h4>
                <div id="dynamic-data"></div>
            </div>
        </div>

        <div id="extension-content" class="box">
            <div class="data">
                <h4>Extension Configuration</h4>
                <table id="extension-config">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>ID</th>
                            <th>Type</th>
                            <th>Interface</th>
                            <th>Category</th>
                            <th>Interval</th>
                            <th>Critical</th>
                            <th>Extra Arguments</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                </table>
            </div>
            <div class="data">
                <h4>Extension Data</h4>
                <div id="extension-status"></div>
            </div>
        </div>

        <div id="telemetry-content" class="box">
            <div class="data">
                <h4>Telemetry Log</h4>

                <div class="tx-log-item">

                    <form id="retx">
                        <input type="number" id="request-txid" placeholder="Transmission ID">
                        
                        <button type="submit">Request Re-Transmit</button>
                    </form>

                    <div id="tx-log-stats">
                        <div>Size:
                            <div id="tx-log-size">0</div> of
                            <div id="tx-log-max-size">0</div>
                        </div>
                        <div>First ID
                            <div id="tx-log-first-id">0</div>
                        </div>
                        <div>Last ID
                            <div id="tx-log-last-id">0</div>
                        </div>
                    </div>
                </div>

                <div class="tx-log-item">
                    <div class="tx-log-info">
                        <div>ID</div>
                        <div>Type</div>
                        <div>Length</div>
                    </div>
                </div>

                <div id="telemetry-log"></div>
            </div>
            <div class="data">
                <h4>Transmission Queue</h4>
                <div id="tx-queue"></div>
            </div>
        </div>

        <div id="errors-content" class="box">
            <div class="data">
                <h4>Errors</h4>
                <div id="error-log"></div>
            </div>
        </div>

        <!-- Template for tx log items -->
        <div class="tx-log-item" id="tx-log-item-template" style="display: none;">
            <div class="tx-log-info">
                <div class="tx-log-id">1</div>
                <div class="tx-log-type">Unknown</div>
                <div class="tx-log-length">9</div>
            </div>
            <details>
                <summary>Message - Click to Expand</summary>
                <p class="tx-log-message">
                    n/a
                </p>
            </details>
        </div>

    </body>
</html>